{% load wagtailuserbar %}
{% load static i18n i18n_extra %}

<!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
<html class="no-js" lang="{{ LANGUAGE_CODE }}">
<head>
  <meta charset="utf-8"/>
  <title>
    {% block title %}
      {% if self.seo_title %}{{ self.seo_title }}{% else %}{{ self.title }}{% endif %}
    {% endblock %}
    {% block title_suffix %}
      {% with self.get_site.site_name as site_name %}
        {% if site_name %}- {{ site_name }}{% endif %}
      {% endwith %}
    {% endblock %}
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <meta property="og:title" content="{% block og_title %}{{ self.title }}{% endblock %}"/>
  <meta property="og:image"
        content="{% block og_image %}{{ self.get_url_parts.1 }}{% static "img/default_og_image.png" %}{% endblock %}"/>
  <meta property="og:type" content="{% block og_type %}website{% endblock %}"/>
  <meta property="og:url" content="{% block og_url %}{{ self.get_full_url }}{% endblock %}"/>
  <meta property="og:locale" content="{% current_locale %}"/>
  {% block extra_meta %}{% endblock %}

  {% include "favicon.html" %}

  {# Global stylesheets #}
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
        crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="{% static "css/style.css" %}">

  {% block extra_css %}
    {# Override this in templates to add extra stylesheets #}
  {% endblock %}
</head>

<body class="d-flex flex-column {% block body_class %}{% endblock %}">

<div id="page-editing-bar">
  {% wagtailuserbar %}
</div>


{% if request.site.hostname == "hanusovedni.online" %}
  <div class="container">
    <div class="row d-flex justify-content-center">
      <div class="col-sm-6">
        <div class="alert alert-danger text-center m-2" role="alert">
          <strong>
            Testovacia verzia stránky!
            Prejsť na <a href="https://hanusovedni.sk/">oficiálnu verziu</a>.
          </strong>
        </div>
      </div>
    </div>
  </div>
{% endif %}

{% block header_content %}
  {% include "header.html" %}
{% endblock %}

{% block content %}{% endblock %}

<div class="container-fluid position-absolute" style="top: 0; right: 25%">
  <div class="language-switcher-head">
    <div class="d-flex flex-row justify-content-end">
      {% get_available_languages as languages %}
      {% for lang_code, lang_name in languages %}
        {% language lang_code %}
          <a href="{% url "choose-lang" lang_code %}">{{ lang_code }}</a>
        {% endlanguage %}
      {% endfor %}
    </div>
  </div>
</div>


{% block footer_content %}
  {% include "footer.html" %}
{% endblock %}

{# Global javascript #}
<script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
<script src="https://kit.fontawesome.com/8a0d4a7b33.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="{% static "js/hanusovedni.js" %}"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30977387-1"></script>
<script>
  window.dataLayer = window.dataLayer || []

  function gtag () {dataLayer.push(arguments)}

  gtag('js', new Date())
  gtag('config', 'UA-30977387-1')
</script>


{% block extra_js %}
  {# Override this in templates to add extra javascript #}
{% endblock %}
</body>
</html>
